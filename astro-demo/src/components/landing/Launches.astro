---
import { type APISpacexResponse } from "../../types/api";
import CardLaunch from "../landing/CardLaunch.astro";
import { getLatestLaunches } from "../../services/spacex";

const launches = await getLatestLaunches();
interface Props {
	id: string;
}

const { id } = Astro.props;
---

<section class="max-w-5xl px-4 m-auto related" id={id}>
	<div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
		{
			launches.map((launch) => (
				<CardLaunch
					id={launch.id}
					img={launch.links.patch.small}
					details={launch.details}
					flightNumber={launch.flight_number}
					success={launch.success}
				/>
			))
		}
	</div>
</section>
